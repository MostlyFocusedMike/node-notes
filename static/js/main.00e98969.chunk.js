(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";var a=n(0),o=n.n(a).a.createContext();t.a=o},12:function(e,t,n){"use strict";var a=n(2),o=n(3),i="http://localhost:8100",r=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"getOne",value:function(e){if(n(21).includes(e)){var t=n(46)("./".concat(e,".md"));return fetch(t).then(function(e){return e.text()}).catch(console.log)}return Promise.resolve("# Missing File")}},{key:"list",value:function(){return fetch("".concat(i,"/notes")).then(function(e){return e.json()}).catch(function(e){return e.constructor===TypeError?{files:n(21)}:e})}},{key:"create",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(i,"/notes"),t).then(function(e){return e.json()}).catch(console.log)}},{key:"update",value:function(e){var t={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(i,"/notes/").concat(e.title),t).then(function(e){return e.json()}).catch(console.log)}}]),e}();t.a=r},21:function(e){e.exports=["SQL-notes-old","code-snippet-test","hapi-notes","knex","sql-notes-book-Practical-SQL","test"]},257:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(27),r=n.n(i),c=n(260),s=(n(40),n(28)),l=n(2),u=n(3),d=n(5),h=n(4),p=n(6),f=n(10),m=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).toggleEditMode=function(){e.setState(function(e){return{isEditMode:!e.isEditMode}})},e.checkIfLocal=function(){window.location.href.match("//localhost:")&&e.setState({isEditMode:!0,isLocal:!0})},e.state={isEditMode:!1,isLocal:!1},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=Object.assign(this.state,{toggleEditMode:this.toggleEditMode,checkIfLocal:this.checkIfLocal});return o.a.createElement(f.a.Provider,{value:e},this.props.children)}}]),t}(o.a.Component);r.a.render(o.a.createElement(c.a,null,o.a.createElement(m,null,o.a.createElement(s.a,null))),document.getElementById("root"))},28:function(e,t,n){"use strict";(function(e){var a=n(2),o=n(3),i=n(5),r=n(4),c=n(6),s=n(0),l=n.n(s),u=n(32),d=(n(43),n(34)),h=n(33),p=n(10),f=n(31),m=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.context.checkIfLocal()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,null),l.a.createElement(h.a,null),this.context.isLocal?l.a.createElement(f.a,{isEditMode:this.context.isEditMode,toggleEditMode:this.context.toggleEditMode}):"")}}]),t}(l.a.Component);m.contextType=p.a,t.a=Object(u.hot)(e)(m)}).call(this,n(42)(e))},31:function(e,t,n){"use strict";var a=n(2),o=n(3),i=n(5),r=n(4),c=n(6),s=n(0),l=n.n(s),u=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleEditMode,n=e.isEditMode;return l.a.createElement("div",{id:"mode-bar"},l.a.createElement("p",null,"Currently in ",n?"Editing":"Viewing"," mode"),l.a.createElement("button",{onClick:t},"Toggle"))}}]),t}(l.a.Component);t.a=u},33:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(262),r=n(261),c=n(29),s=n(13),l=n(2),u=n(3),d=n(5),h=n(4),p=n(6),f=n(30),m=n.n(f),v=n(10),g=(n(62),n(67),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o))))._setScroll=function(){var e=16.5*n.aceEditor.editor.session.doc.getAllLines().length,t=n.aceEditor.editor.getSession().$scrollTop;n.props.setScroll(t/e)},n._setCursorIndex=function(){if(n.aceEditor){var e=n.aceEditor.editor.session.doc.positionToIndex(n.aceEditor.editor.selection.getCursor());n.props.setCursorIndex(e)}},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.aceEditor.editor.getSession().setUseWrapMode(!1),this.aceEditor.editor.resize(),this.aceEditor.editor.setAutoScrollEditorIntoView(!0)}},{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:this.props.handleSubmit},o.a.createElement("label",{htmlFor:"title"},"title"),o.a.createElement("input",{id:"title",name:"title",type:"text",value:this.props.newNote.title,onChange:this.props.handleChange}),o.a.createElement("label",{htmlFor:"text"},"text"),o.a.createElement(m.a,{mode:"markdown",theme:"tomorrow",editorProps:{$blockScrolling:!0},id:"editor",name:"editor",width:"99%",height:"80vh",ref:function(t){e.aceEditor=t},value:this.props.newNote.text,onChange:this.props.handleChange,onScroll:this._setScroll,onCursorChange:this._setCursorIndex}),o.a.createElement("button",null,"Save"))}}]),t}(o.a.Component));g.contextType=v.a;var b=g,E=n(14),O=n.n(E),S=n(18),x=n.n(S),j=(n(254),function(e,t,n){!function(e,t,n,a){var o=new e.Renderer;o.code=function(e,o){var i,r=t.indexOf(e),c=Math.abs(r-n);return!a||c<2e3?(i=o&&x.a.getLanguage(o)?x.a.highlight(o,e,!0).value:x.a.highlightAuto(e).value,'<pre><code class="hljs">'.concat(i,"</code></pre>")):'<pre><code class="hljs">'.concat(e.replace(/</g,"&lt;"),"</code></pre>")},e.setOptions({renderer:o,xhtml:!1})}(O.a,e,t,n);var a=e||"\n# hello there\n## start adding markdown to get started\n- don't know where to start? check out the main help page I have yet to write\n- [This markdown crash course](http://blog.kugghuset.se/2015/11/20/markdown-crash-course.html) teaches you how to use it in like 5 minutes";return O()(a)}),k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).handlePreviewScroll=function(){if(e.state.focused){var t=e.el.scrollTop-e.state.currentScrollTop;e.setState({offset:e.state.prevOffset+t})}},e.handleMouseEnter=function(){e.setState({focused:!0})},e.handleMouseLeave=function(){e.setState({focused:!1})},e.state={currentScrollTop:0,offset:0,prevOffset:0,focused:!1},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){e.note.scroll!==this.props.note.scroll&&(this.el.scrollTop=this.el.scrollHeight*this.props.note.scroll,this.el.scrollTop+=this.state.offset,this.setState({currentScrollTop:this.el.scrollTop,prevOffset:this.state.offset}))}},{key:"render",value:function(){var e=this,t=this.props.note,n=(t.title,t.text),a=t.cursorIndex,i=j(n,a,this.context.isEditMode);return o.a.createElement("div",{id:"md-preview",onScroll:this.handlePreviewScroll,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:function(t){e.el=t}},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i},id:"preview-text"}))}}]),t}(o.a.Component);k.contextType=v.a;var y=k,w=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).initState={contents:[]},e.state=e.initState,e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"setContents",value:function(e){var t=e.map(function(e){var t=e.match(/<h(1|2|3) id="(.+)">(.+)</);return{padding:t[1],link:t[2],text:t[3]}});this.setState({contents:t})}},{key:"checkForHeadings",value:function(){if(this.props.text){var e=O()(this.props.text).match(/<h(?:1|2|3).+>.+</g);e?this.setContents(e):this.setState(this.initState)}}},{key:"componentDidMount",value:function(){this.checkForHeadings()}},{key:"componentDidUpdate",value:function(e){e.text!==this.props.text&&this.checkForHeadings()}},{key:"render",value:function(){return o.a.createElement("div",{id:"table-of-contents"},o.a.createElement("h3",null,"Table of contents"),o.a.createElement("div",{id:"contents"},o.a.createElement("ul",null,this.state.contents.map(function(e,t){return o.a.createElement("li",{className:"padding-lvl-".concat(e.padding),key:t},o.a.createElement("a",{href:"#".concat(e.link)},e.text))}))))}}]),t}(o.a.Component),M=n(12),C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).handleChange=function(t){t.target?e.setState(Object(s.a)({},t.target.name,t.target.value)):e.setState({text:t})},e.handleSubmit=function(t){t.preventDefault(),M.a.update(Object(c.a)({},e.state,{oldTitle:e.props.match.params.fileName})).then(function(){e.props.match.params.fileName||e.setState({redirectNewFile:!0})})},e.loadFile=function(t){M.a.getOne(t).then(function(n){e.setState({title:t,text:n})})},e.setScroll=function(t){e.setState({scroll:t})},e.setCursorIndex=function(t){e.setState({cursorIndex:t})},e.initState={title:"",text:"",scroll:0,cursorIndex:0},e.state=e.initState,e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.fileName&&this.loadFile(this.props.match.params.fileName)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.fileName!==e.match.params.fileName&&(this.props.match.params.fileName?this.loadFile(this.props.match.params.fileName):this.setState(this.initState))}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-viewer"},this.context.isEditMode?o.a.createElement(b,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,newNote:this.state,viewInfo:this.context,toggleEditMode:this.props.toggleEditMode,setScroll:this.setScroll,setCursorIndex:this.setCursorIndex}):"",o.a.createElement(y,{note:this.state}),this.context.isEditMode?"":o.a.createElement(w,{text:this.state.text}))}}]),t}(o.a.Component);C.contextType=v.a;var N=C;t.a=function(){return o.a.createElement(i.a,null,o.a.createElement(r.a,{exact:!0,path:"/",component:N}),o.a.createElement(r.a,{exact:!0,path:"/notes/:fileName",component:N}),o.a.createElement(r.a,{exact:!0,path:"*",component:N}))}},34:function(e,t,n){"use strict";var a=n(2),o=n(3),i=n(5),r=n(4),c=n(6),s=n(0),l=n.n(s),u=n(259),d=n(12),h=n(13),p=n(263),f=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(i.a)(this,Object(r.a)(t).call(this))).handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),d.a.create(e.state).then(function(e){if(e.msg)throw alert(e.msg),new Error("Already Created the file")}).then(function(){e.props.loadFiles(),e.setState({redirectNewFile:!0})}).catch(console.log)},e.initState={title:"",redirectNewFile:!1},e.state=e.initState,e}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.state.title!==e.title}},{key:"render",value:function(){return this.state.redirectNewFile?l.a.createElement(p.a,{to:"/notes/".concat(this.state.title)}):l.a.createElement("div",{id:"new-file-modal"},l.a.createElement("h1",null,"I am the new file modal"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"File Name"),l.a.createElement("input",{type:"text",name:"title",onChange:this.handleChange}),l.a.createElement("p",null,"Warning: creating a new file will destroy any unsaved changes. Be sure to save your current file"),l.a.createElement("button",{onClick:this.props.toggleNewFileModal},"Cancel"),l.a.createElement("button",null,"Create")))}}]),t}(l.a.Component),m=n(10),v=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(i.a)(this,Object(r.a)(t).call(this))).loadFiles=function(){d.a.list().then(function(t){return e.setState(t)})},e.toggleNewFileModal=function(){e.setState(function(e){return{isNewFileModalVisibile:!e.isNewFileModalVisibile}})},e.state={files:[],isNewFileModalVisibile:!1},e}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadFiles()}},{key:"render",value:function(){return l.a.createElement("div",{id:"notes-dir"},l.a.createElement("h1",null,"Files"),l.a.createElement("h2",null,this.context.test),this.context.isEditMode?l.a.createElement("button",{onClick:this.toggleNewFileModal},"New File"):"",this.state.isNewFileModalVisibile?l.a.createElement(f,{toggleNewFileModal:this.toggleNewFileModal,loadFiles:this.loadFiles}):"",this.state.files.map(function(e,t){return l.a.createElement(u.a,{to:"/notes/".concat(e),key:t},e)}))}}]),t}(l.a.Component);v.contextType=m.a;t.a=v},35:function(e,t,n){e.exports=n(257)},40:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){var a={"./SQL-notes-old.md":47,"./code-snippet-test.md":48,"./hapi-notes.md":49,"./knex.md":50,"./sql-notes-book-Practical-SQL.md":51,"./test.md":52};function o(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id=46},47:function(e,t,n){e.exports=n.p+"static/media/SQL-notes-old.2f358585.md"},48:function(e,t,n){e.exports=n.p+"static/media/code-snippet-test.0e11300f.md"},49:function(e,t,n){e.exports=n.p+"static/media/hapi-notes.a3475e2d.md"},50:function(e,t,n){e.exports=n.p+"static/media/knex.9ecfae0a.md"},51:function(e,t,n){e.exports=n.p+"static/media/sql-notes-book-Practical-SQL.4c2a8004.md"},52:function(e,t,n){e.exports=n.p+"static/media/test.09a04da2.md"}},[[35,2,1]]]);
//# sourceMappingURL=main.00e98969.chunk.js.map