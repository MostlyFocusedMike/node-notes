(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";var a=n(0),i=n.n(a).a.createContext();t.a=i},13:function(e,t,n){"use strict";var a=n(2),i=n(3),o="http://localhost:8100",c=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"getOne",value:function(e){if(n(22).includes(e)){var t=n(39)("./".concat(e,".md"));return fetch(t).then(function(e){return e.text()}).catch(console.log)}return Promise.resolve("# Missing File")}},{key:"list",value:function(){return fetch("".concat(o,"/notes")).then(function(e){return e.json()}).catch(function(e){return e.constructor===TypeError?{files:n(22)}:e})}},{key:"create",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(o,"/notes"),t).then(function(e){return e.json()}).catch(console.log)}},{key:"update",value:function(e){var t={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(o,"/notes/").concat(e.title),t).then(function(e){return e.json()}).catch(console.log)}}]),e}();t.a=c},18:function(e,t,n){"use strict";var a=n(2),i=n(3),o=n(5),c=n(4),r=n(6),l=n(0),s=n.n(l),u=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleEditMode,n=e.isEditMode;return s.a.createElement("div",{id:"mode-bar"},s.a.createElement("p",null,"Currently in ",n?"Editing":"Viewing"," mode"),s.a.createElement("button",{onClick:t},"Toggle"))}}]),t}(s.a.Component);t.a=u},22:function(e){e.exports=["code-snippet-test-1","hapi-notes","knex","test"]},236:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(23),c=n.n(o),r=n(239),l=(n(34),n(24)),s=n(2),u=n(3),h=n(5),d=n(4),m=n(6),p=n(10),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).toggleEditMode=function(){e.setState(function(e){return{isEditMode:!e.isEditMode}})},e.checkIfLocal=function(){window.location.href.match("//localhost:")&&(console.log("I ran"),e.setState({isEditMode:!0,isLocal:!0}))},e.state={isEditMode:!1,isLocal:!1},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=Object.assign(this.state,{toggleEditMode:this.toggleEditMode,checkIfLocal:this.checkIfLocal});return i.a.createElement(p.a.Provider,{value:e},this.props.children)}}]),t}(i.a.Component);c.a.render(i.a.createElement(r.a,null,i.a.createElement(f,null,i.a.createElement(l.a,null))),document.getElementById("root"))},24:function(e,t,n){"use strict";(function(e){var a=n(2),i=n(3),o=n(5),c=n(4),r=n(6),l=n(0),s=n.n(l),u=n(26),h=(n(37),n(28)),d=n(27),m=n(10),p=n(18),f=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={render:!0},n}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.context.checkIfLocal()}},{key:"render",value:function(){return console.log("editmode: ",this.context.isEditMode),s.a.createElement(s.a.Fragment,null,this.state.render?s.a.createElement("div",{className:"App"},s.a.createElement(h.a,null),s.a.createElement(d.a,null),this.context.isLocal?s.a.createElement(p.a,{isEditMode:this.context.isEditMode,toggleEditMode:this.context.toggleEditMode}):""):"")}}]),t}(s.a.Component);f.contextType=m.a,t.a=Object(u.hot)(e)(f)}).call(this,n(36)(e))},27:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(241),c=n(240),r=n(25),l=n(14),s=n(2),u=n(3),h=n(5),d=n(4),m=n(6),p=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.props.handleSubmit},i.a.createElement("label",{htmlFor:"title"},"title"),i.a.createElement("input",{id:"title",name:"title",type:"text",value:this.props.newNote.title,onChange:this.props.handleChange}),i.a.createElement("label",{htmlFor:"text"},"text"),i.a.createElement("textarea",{id:"text",name:"text",value:this.props.newNote.text,onChange:this.props.handleChange}),i.a.createElement("button",null,"Save"))}}]),t}(i.a.Component),f=n(11),v=n.n(f),g=n(17),b=n.n(g),E=(n(233),function(e,t){t?function(e){var t=new f.Renderer;t.code=function(e,t){var n;return n=t&&b.a.getLanguage(t)?b.a.highlight(t,e,!0).value:b.a.highlightAuto(e).value,'<pre><code class="hljs">'.concat(n,"</code></pre>")},e.setOptions({renderer:t,xhtml:!1})}(e):function(e){e.setOptions({renderer:new f.Renderer})}(e)}),O=function(e,t){E(v.a,t);var n=e||"\n# hello there\n## start adding markdown to get started\n- don't know where to start? check out the main help page I have yet to write\n- [This markdown crash course](http://blog.kugghuset.se/2015/11/20/markdown-crash-course.html) teaches you how to use it in like 5 minutes";return v()(n)},j=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.note,t=e.title,n=e.text,a=O(n,!0);return i.a.createElement("div",{id:"md-preview"},i.a.createElement("h1",null,"Preview of: ",t),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}))}}]),t}(i.a.Component),y=(n(18),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).initState={contents:[]},e.state=e.initState,e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"setContents",value:function(e){var t=e.map(function(e){var t=e.match(/<h(1|2|3) id="(.+)">(.+)</);return{padding:t[1],link:t[2],text:t[3]}});this.setState({contents:t})}},{key:"checkForHeadings",value:function(){if(this.props.text){var e=v()(this.props.text).match(/<h(?:1|2|3).+>.+</g);e?this.setContents(e):this.setState(this.initState)}}},{key:"componentDidMount",value:function(){this.checkForHeadings()}},{key:"componentDidUpdate",value:function(e){e.text!==this.props.text&&this.checkForHeadings()}},{key:"render",value:function(){return i.a.createElement("div",{id:"table-of-contents"},i.a.createElement("h3",null,"Table of contents"),i.a.createElement("div",{id:"contents"},i.a.createElement("ul",null,this.state.contents.map(function(e,t){return i.a.createElement("li",{className:"padding-lvl-".concat(e.padding),key:t},i.a.createElement("a",{href:"#".concat(e.link)},e.text))}))))}}]),t}(i.a.Component)),k=n(13),x=n(10),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).handleChange=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),k.a.update(Object(r.a)({},e.state,{oldTitle:e.props.match.params.fileName})).then(function(){e.props.match.params.fileName||e.setState({redirectNewFile:!0})})},e.initState={title:"",text:""},e.state=e.initState,e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"loadFile",value:function(e){var t=this;k.a.getOne(e).then(function(n){t.setState({title:e,text:n})})}},{key:"componentDidMount",value:function(){this.props.match.params.fileName&&this.loadFile(this.props.match.params.fileName)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.fileName!==e.match.params.fileName&&(this.props.match.params.fileName?this.loadFile(this.props.match.params.fileName):this.setState(this.initState))}},{key:"render",value:function(){return i.a.createElement("div",{className:"note"},this.context.isEditMode?i.a.createElement(p,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,newNote:this.state,viewInfo:this.context,toggleEditMode:this.props.toggleEditMode}):"",i.a.createElement(j,{note:this.state}),this.context.isEditMode?"":i.a.createElement(y,{text:this.state.text}))}}]),t}(i.a.Component);w.contextType=x.a;var M=w;t.a=function(){return i.a.createElement(o.a,null,i.a.createElement(c.a,{exact:!0,path:"/",component:M}),i.a.createElement(c.a,{exact:!0,path:"/notes/:fileName",component:M}),i.a.createElement(c.a,{exact:!0,path:"*",component:M}))}},28:function(e,t,n){"use strict";var a=n(2),i=n(3),o=n(5),c=n(4),r=n(6),l=n(0),s=n.n(l),u=n(238),h=n(13),d=n(14),m=n(242),p=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).handleChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),h.a.create(e.state).then(function(e){if(e.msg)throw alert(e.msg),new Error("Already Created the file")}).then(function(){e.setState({redirectNewFile:!0})}).catch(console.log)},e.initState={title:"",redirectNewFile:!1},e.state=e.initState,e}return Object(r.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.state.title!==e.title}},{key:"render",value:function(){return this.state.redirectNewFile?s.a.createElement(m.a,{to:"/notes/".concat(this.state.title)}):s.a.createElement("div",{id:"new-file-modal"},s.a.createElement("h1",null,"I am the new file modal"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"File Name"),s.a.createElement("input",{type:"text",name:"title",onChange:this.handleChange}),s.a.createElement("p",null,"Warning: creating a new file will destroy any unsaved changes. Be sure to save your current file"),s.a.createElement("button",{onClick:this.props.toggleNewFileModal},"Cancel"),s.a.createElement("button",null,"Create")))}}]),t}(s.a.Component),f=n(10),v=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).toggleNewFileModal=function(){e.setState(function(e){return{isNewFileModalVisibile:!e.isNewFileModalVisibile}})},e.state={files:[],isNewFileModalVisibile:!1},e}return Object(r.a)(t,e),Object(i.a)(t,[{key:"loadFiles",value:function(){var e=this;h.a.list().then(function(t){return e.setState(t)})}},{key:"componentDidMount",value:function(){this.loadFiles()}},{key:"render",value:function(){return s.a.createElement("div",{id:"notes-dir"},s.a.createElement("h1",null,"Files"),s.a.createElement("h2",null,this.context.test),this.context.isEditMode?s.a.createElement("button",{onClick:this.toggleNewFileModal},"New File"):"",this.state.isNewFileModalVisibile?s.a.createElement(p,{toggleNewFileModal:this.toggleNewFileModal}):"",this.state.files.map(function(e,t){return s.a.createElement(u.a,{to:"/notes/".concat(e),key:t},e)}))}}]),t}(s.a.Component);v.contextType=f.a;t.a=v},29:function(e,t,n){e.exports=n(236)},34:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){var a={"./code-snippet-test-1.md":40,"./hapi-notes.md":41,"./knex.md":42,"./test.md":43};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id=39},40:function(e,t,n){e.exports=n.p+"static/media/code-snippet-test-1.a05c396b.md"},41:function(e,t,n){e.exports=n.p+"static/media/hapi-notes.94945a88.md"},42:function(e,t,n){e.exports=n.p+"static/media/knex.9ecfae0a.md"},43:function(e,t,n){e.exports=n.p+"static/media/test.199aa2f5.md"}},[[29,2,1]]]);
//# sourceMappingURL=main.9ef423dc.chunk.js.map