(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){"use strict";var a=n(0),i=n.n(a).a.createContext();e.a=i},12:function(t,e,n){"use strict";var a=n(2),i=n(3),o="http://localhost:8100",c=function(){function t(){Object(a.a)(this,t)}return Object(i.a)(t,null,[{key:"getOne",value:function(t){if(n(21).includes(t)){var e=n(40)("./".concat(t,".md"));return fetch(e).then(function(t){return t.text()}).catch(console.log)}return Promise.resolve("# Missing File")}},{key:"list",value:function(){return fetch("".concat(o,"/notes")).then(function(t){return t.json()}).catch(function(t){return t.constructor===TypeError?{files:n(21)}:t})}},{key:"create",value:function(t){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("".concat(o,"/notes"),e).then(function(t){return t.json()}).catch(console.log)}},{key:"update",value:function(t){var e={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("".concat(o,"/notes/").concat(t.title),e).then(function(t){return t.json()}).catch(console.log)}}]),t}();e.a=c},21:function(t){t.exports=["SQL-notes-old","code-snippet-test","hapi-notes","knex","sql-notes-book-Practical-SQL","test"]},23:function(t,e,n){"use strict";(function(t){var a=n(2),i=n(3),o=n(5),c=n(4),r=n(6),l=n(0),s=n.n(l),u=n(26),h=(n(37),n(28)),d=n(27),m=n(10),p=n(25),f=function(t){function e(){return Object(a.a)(this,e),Object(o.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.context.checkIfLocal()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(h.a,null),s.a.createElement(d.a,null),this.context.isLocal?s.a.createElement(p.a,{isEditMode:this.context.isEditMode,toggleEditMode:this.context.toggleEditMode}):"")}}]),e}(s.a.Component);f.contextType=m.a,e.a=Object(u.hot)(t)(f)}).call(this,n(36)(t))},239:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(22),c=n.n(o),r=n(242),l=(n(34),n(23)),s=n(2),u=n(3),h=n(5),d=n(4),m=n(6),p=n(10),f=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(h.a)(this,Object(d.a)(e).call(this))).toggleEditMode=function(){t.setState(function(t){return{isEditMode:!t.isEditMode}})},t.checkIfLocal=function(){window.location.href.match("//localhost:")&&t.setState({isEditMode:!0,isLocal:!0})},t.state={isEditMode:!1,isLocal:!1},t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=Object.assign(this.state,{toggleEditMode:this.toggleEditMode,checkIfLocal:this.checkIfLocal});return i.a.createElement(p.a.Provider,{value:t},this.props.children)}}]),e}(i.a.Component);c.a.render(i.a.createElement(r.a,null,i.a.createElement(f,null,i.a.createElement(l.a,null))),document.getElementById("root"))},25:function(t,e,n){"use strict";var a=n(2),i=n(3),o=n(5),c=n(4),r=n(6),l=n(0),s=n.n(l),u=function(t){function e(){return Object(a.a)(this,e),Object(o.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.props,e=t.toggleEditMode,n=t.isEditMode;return s.a.createElement("div",{id:"mode-bar"},s.a.createElement("p",null,"Currently in ",n?"Editing":"Viewing"," mode"),s.a.createElement("button",{onClick:e},"Toggle"))}}]),e}(s.a.Component);e.a=u},27:function(t,e,n){"use strict";var a=n(0),i=n.n(a),o=n(244),c=n(243),r=n(24),l=n(13),s=n(2),u=n(3),h=n(5),d=n(4),m=n(6),p=n(10),f=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i))))._setScroll=function(){var t=document.querySelector("#text");n.props.setScroll(t)},n._setCursorIndex=function(){var t=document.querySelector("#text");n.props.setCursorIndex(t)},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.props.handleSubmit},i.a.createElement("label",{htmlFor:"title"},"title"),i.a.createElement("input",{id:"title",name:"title",type:"text",value:this.props.newNote.title,onChange:this.props.handleChange}),i.a.createElement("label",{htmlFor:"text"},"text"),i.a.createElement("textarea",{id:"text",name:"text",value:this.props.newNote.text,onChange:this.props.handleChange,onScroll:this._setScroll,onClick:this._setCursorIndex}),i.a.createElement("button",null,"Save"))}}]),e}(i.a.Component);f.contextType=p.a;var v=f,g=n(14),b=n.n(g),E=n(17),x=n.n(E),O=(n(236),function(t,e,n){!function(t,e,n,a){var i=new t.Renderer;i.code=function(t,i){var o,c=e.indexOf(t),r=Math.abs(c-n);return!a||r<2e3?(i&&x.a.getLanguage(i)?(o=x.a.highlight(i,t,!0).value,console.log("highlightedCode: ",o)):o=x.a.highlightAuto(t).value,'<pre><code class="hljs">'.concat(o,"</code></pre>")):'<pre><code class="hljs">'.concat(t.replace(/</g,"&lt;"),"</code></pre>")},t.setOptions({renderer:i,xhtml:!1})}(b.a,t,e,n);var a=t||"\n# hello there\n## start adding markdown to get started\n- don't know where to start? check out the main help page I have yet to write\n- [This markdown crash course](http://blog.kugghuset.se/2015/11/20/markdown-crash-course.html) teaches you how to use it in like 5 minutes";return b()(a)}),j=function(t){function e(){return Object(s.a)(this,e),Object(h.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){this.el.scrollTop=this.el.scrollHeight*this.props.note.scroll}},{key:"render",value:function(){var t=this,e=this.props.note,n=(e.title,e.text),a=e.cursorIndex,o=O(n,a,this.context.isEditMode);return i.a.createElement("div",{id:"md-preview",ref:function(e){t.el=e}},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:o},id:"preview-text"}))}}]),e}(i.a.Component);j.contextType=p.a;var y=j,k=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(h.a)(this,Object(d.a)(e).call(this))).initState={contents:[]},t.state=t.initState,t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"setContents",value:function(t){var e=t.map(function(t){var e=t.match(/<h(1|2|3) id="(.+)">(.+)</);return{padding:e[1],link:e[2],text:e[3]}});this.setState({contents:e})}},{key:"checkForHeadings",value:function(){if(this.props.text){var t=b()(this.props.text).match(/<h(?:1|2|3).+>.+</g);t?this.setContents(t):this.setState(this.initState)}}},{key:"componentDidMount",value:function(){this.checkForHeadings()}},{key:"componentDidUpdate",value:function(t){t.text!==this.props.text&&this.checkForHeadings()}},{key:"render",value:function(){return i.a.createElement("div",{id:"table-of-contents"},i.a.createElement("h3",null,"Table of contents"),i.a.createElement("div",{id:"contents"},i.a.createElement("ul",null,this.state.contents.map(function(t,e){return i.a.createElement("li",{className:"padding-lvl-".concat(t.padding),key:e},i.a.createElement("a",{href:"#".concat(t.link)},t.text))}))))}}]),e}(i.a.Component),S=n(12),w=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(h.a)(this,Object(d.a)(e).call(this))).handleChange=function(e){t.setState(Object(l.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),S.a.update(Object(r.a)({},t.state,{oldTitle:t.props.match.params.fileName})).then(function(){t.props.match.params.fileName||t.setState({redirectNewFile:!0})})},t.loadFile=function(e){S.a.getOne(e).then(function(n){t.setState({title:e,text:n})})},t.setScroll=function(e){var n=e.scrollTop/e.scrollHeight;t.setState({scroll:n})},t.setCursorIndex=function(e){t.setState({cursorIndex:e.selectionStart})},t.initState={title:"",text:"",scroll:0,cursorIndex:0},t.state=t.initState,t}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.match.params.fileName&&this.loadFile(this.props.match.params.fileName)}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.fileName!==t.match.params.fileName&&(this.props.match.params.fileName?this.loadFile(this.props.match.params.fileName):this.setState(this.initState))}},{key:"render",value:function(){return i.a.createElement("div",{className:"main-viewer"},this.context.isEditMode?i.a.createElement(v,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,newNote:this.state,viewInfo:this.context,toggleEditMode:this.props.toggleEditMode,setScroll:this.setScroll,setCursorIndex:this.setCursorIndex}):"",i.a.createElement(y,{note:this.state}),this.context.isEditMode?"":i.a.createElement(k,{text:this.state.text}))}}]),e}(i.a.Component);w.contextType=p.a;var C=w;e.a=function(){return i.a.createElement(o.a,null,i.a.createElement(c.a,{exact:!0,path:"/",component:C}),i.a.createElement(c.a,{exact:!0,path:"/notes/:fileName",component:C}),i.a.createElement(c.a,{exact:!0,path:"*",component:C}))}},28:function(t,e,n){"use strict";var a=n(2),i=n(3),o=n(5),c=n(4),r=n(6),l=n(0),s=n.n(l),u=n(241),h=n(12),d=n(13),m=n(245),p=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(o.a)(this,Object(c.a)(e).call(this))).handleChange=function(e){t.setState(Object(d.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),h.a.create(t.state).then(function(t){if(t.msg)throw alert(t.msg),new Error("Already Created the file")}).then(function(){t.props.loadFiles(),t.setState({redirectNewFile:!0})}).catch(console.log)},t.initState={title:"",redirectNewFile:!1},t.state=t.initState,t}return Object(r.a)(e,t),Object(i.a)(e,[{key:"shouldComponentUpdate",value:function(t){return this.state.title!==t.title}},{key:"render",value:function(){return this.state.redirectNewFile?s.a.createElement(m.a,{to:"/notes/".concat(this.state.title)}):s.a.createElement("div",{id:"new-file-modal"},s.a.createElement("h1",null,"I am the new file modal"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"File Name"),s.a.createElement("input",{type:"text",name:"title",onChange:this.handleChange}),s.a.createElement("p",null,"Warning: creating a new file will destroy any unsaved changes. Be sure to save your current file"),s.a.createElement("button",{onClick:this.props.toggleNewFileModal},"Cancel"),s.a.createElement("button",null,"Create")))}}]),e}(s.a.Component),f=n(10),v=function(t){function e(){var t;return Object(a.a)(this,e),(t=Object(o.a)(this,Object(c.a)(e).call(this))).loadFiles=function(){h.a.list().then(function(e){return t.setState(e)})},t.toggleNewFileModal=function(){t.setState(function(t){return{isNewFileModalVisibile:!t.isNewFileModalVisibile}})},t.state={files:[],isNewFileModalVisibile:!1},t}return Object(r.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.loadFiles()}},{key:"render",value:function(){return s.a.createElement("div",{id:"notes-dir"},s.a.createElement("h1",null,"Files"),s.a.createElement("h2",null,this.context.test),this.context.isEditMode?s.a.createElement("button",{onClick:this.toggleNewFileModal},"New File"):"",this.state.isNewFileModalVisibile?s.a.createElement(p,{toggleNewFileModal:this.toggleNewFileModal,loadFiles:this.loadFiles}):"",this.state.files.map(function(t,e){return s.a.createElement(u.a,{to:"/notes/".concat(t),key:e},t)}))}}]),e}(s.a.Component);v.contextType=f.a;e.a=v},29:function(t,e,n){t.exports=n(239)},34:function(t,e,n){},37:function(t,e,n){},40:function(t,e,n){var a={"./SQL-notes-old.md":41,"./code-snippet-test.md":42,"./hapi-notes.md":43,"./knex.md":44,"./sql-notes-book-Practical-SQL.md":45,"./test.md":46};function i(t){var e=o(t);return n(e)}function o(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id=40},41:function(t,e,n){t.exports=n.p+"static/media/SQL-notes-old.2f358585.md"},42:function(t,e,n){t.exports=n.p+"static/media/code-snippet-test.0e11300f.md"},43:function(t,e,n){t.exports=n.p+"static/media/hapi-notes.8adfa2d3.md"},44:function(t,e,n){t.exports=n.p+"static/media/knex.9ecfae0a.md"},45:function(t,e,n){t.exports=n.p+"static/media/sql-notes-book-Practical-SQL.2c5b8825.md"},46:function(t,e,n){t.exports=n.p+"static/media/test.199aa2f5.md"}},[[29,2,1]]]);
//# sourceMappingURL=main.78923302.chunk.js.map